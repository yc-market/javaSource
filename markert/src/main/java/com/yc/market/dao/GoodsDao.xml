<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
  
<mapper namespace="com.yc.market.dao.GoodsDao">

	  <resultMap type="com.yc.market.bean.Goods" id="goodsMap">
  		<id column="gid" property="gid"></id>
  		<collection property="image" column="gid" 
 		 	select="com.yc.market.dao.GoodsDao.selectimg">
 		</collection>
 		<collection property="attribute" column="gid" 
 		 	select="com.yc.market.dao.GoodsDao.selectSize">
 		</collection>
  	</resultMap>
  	<!-- <resultMap type="com.yc.market.bean.Goods" id="goodsMap">
  		<id column="gid" property="gid"></id>		
  		<association property="goods" column="gid" fetchType="lazy" 
 		 	select="com.yc.market.dao.GoodsDao.selectbygid1">
 		 </association>
  	</resultMap> -->
  	
  	 <!--  <resultMap type="com.yc.market.bean.Goods" id="goodsMap1">
  		<id column="gid" property="gid"></id>
  		<collection property="image" column="gid"
 		 	select="com.yc.market.dao.GoodsDao.selectimg">
 		</collection>
  	  </resultMap> -->
		
	  	
	  <select id="selectimg" resultType="com.yc.market.bean.Image">
	  	select * from image where gid=#{gid}
	  </select>
	  
	  <!-- <select id="selectbygid1" resultType="goodsMap1">
	    select * from goods where gid=#{gid}
	  </select> -->
	  
	  <select id="selectgood" resultMap="goodsMap">
	  	select * from goods
	  </select>
	  
	  <select id="selectSize" resultType="com.yc.market.bean.Attribute">
	  	select * from attribute where gid=#{gid}
	  </select>
	  
	  <update id="update">
 		update goods
 		<set>
 			<if test="gname != null">
 				gname=#{gname},
 			</if>
 			<if test="isDown != null">
 				isDown=#{isDown},
 			</if>
 		</set>
 		 where gid=#{gid}
 	</update>
	  
	
</mapper>